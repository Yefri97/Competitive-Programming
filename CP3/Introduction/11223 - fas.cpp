#include <bits/stdc++.h>

using namespace std;

map<string, char> mm = {{".-", 'A'}, {"-...", 'B'}, {"-.-.", 'C'}, {"-..", 'D'}, {".", 'E'}, {"..-.", 'F'}, {"--.", 'G'}, {"....", 'H'}, {"..", 'I'},
						{".---", 'J'}, {"-.-", 'K'}, {".-..", 'L'}, {"--", 'M'}, {"-.", 'N'}, {"---", 'O'}, {".--.", 'P'}, {"--.-", 'Q'}, {".-.", 'R'},
						{"...", 'S'}, {"-", 'T'}, {"..-", 'U'}, {"...-", 'V'}, {".--", 'W'}, {"-..-", 'X'}, {"-.--", 'Y'}, {"--..", 'Z'}, {"-----", '0'},
					 	{".----", '1'}, {"..---", '2'}, {"...--", '3'}, {"....-", '4'}, {".....", '5'}, {"-....", '6'}, {"--...", '7'}, {"---..", '8'}, {"----.", '9'},
					 	{".-.-.-", '.'}, {"--..--", ','}, {"..--..", '?'}, {".----.", '\''}, {"-.-.--", '!'}, {"-..-.", '/'}, {"-.--.", '('}, {"-.--.-", ')'}, {".-...", '&'},
					 	{"---...", ':'}, {"-.-.-.", ';'}, {"-...-", '='}, {".-.-.", '+'}, {"-....-", '-'}, {"..--.-", '_'}, {".-..-.", '"'}, {".--.-.", '@'}};

int next_int() {
	string line; getline(cin, line);
	return atoi(line.c_str());
}

int main() {
	int T = next_int();
	for (int t = 0; t < T; t++) {
		//if (t) cout << endl;
		cout << "Message #" << t + 1 << endl;
		string line; getline(cin, line);
		line.push_back(' ');
		for (int i = 0, j = 0; j < line.size(); j++) {
			if (line[j] == ' ') { 
				string subs = line.substr(i, j - i);
				cout << mm[subs];
				i = j + 1;
				if (line[i] == ' ') { cout << " "; i++; j++; }
			}
		}
		cout << endl << endl;
	}
	return 0;
}