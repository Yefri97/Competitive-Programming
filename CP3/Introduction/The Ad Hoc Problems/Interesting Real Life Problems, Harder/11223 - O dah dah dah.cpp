#include <bits/stdc++.h>

using namespace std;

map<string, char> morse = 
  {{".-", 'A'}, {"-...", 'B'}, {"-.-.", 'C'}, {"-..", 'D'}, {".", 'E'}, {"..-.", 'F'}, {"--.", 'G'}, {"....", 'H'}, {"..", 'I'},
  {".---", 'J'}, {"-.-", 'K'}, {".-..", 'L'}, {"--", 'M'}, {"-.", 'N'}, {"---", 'O'}, {".--.", 'P'}, {"--.-", 'Q'}, {".-.", 'R'},
  {"...", 'S'}, {"-", 'T'}, {"..-", 'U'}, {"...-", 'V'}, {".--", 'W'}, {"-..-", 'X'}, {"-.--", 'Y'}, {"--..", 'Z'}, {"-----", '0'},
  {".----", '1'}, {"..---", '2'}, {"...--", '3'}, {"....-", '4'}, {".....", '5'}, {"-....", '6'}, {"--...", '7'}, {"---..", '8'}, {"----.", '9'},
  {".-.-.-", '.'}, {"--..--", ','}, {"..--..", '?'}, {".----.", '\''}, {"-.-.--", '!'}, {"-..-.", '/'}, {"-.--.", '('}, {"-.--.-", ')'}, {".-...", '&'},
  {"---...", ':'}, {"-.-.-.", ';'}, {"-...-", '='}, {".-.-.", '+'}, {"-....-", '-'}, {"..--.-", '_'}, {".-..-.", '"'}, {".--.-.", '@'}};

int main() {
  int t, cases = 0;
  string in;
  cin >> t;
  cin.ignore(100, '\n');
  while(t--) {
    cases++;
    cout << "Message #" << cases << endl;
    getline(cin, in);
    int len = in.length(), cnt = 0;
    for(int i = 0; i < len; i++) {
      if(isspace(in[i])) {
        if(cnt == 1) {
          cout << ' ';
          cnt = 0;
        } else
          cnt++;
        continue;
      }
      int j = i;
      string s = "";
      while(!isspace(in[j]) && j < len) {
        s += in[j];
        j++;
      }
      cout << morse[s];
      cnt = 0;
      i = j-1;
    }
    cout << endl;
    if(t) cout << endl;
  }
  return 0;
}